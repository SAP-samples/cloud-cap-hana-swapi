<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{appTitle}}</title>

    <script>
        window['sap-ushell-config'] = {
            defaultRenderer: 'fiori2',
            applications: {
                'fe-lrop-v4': {
                    title: 'Star Wars People',
                    description: 'Star Wars People Maintenance',
                    additionalInformation: 'SAPUI5.Component=star.wars.people',
                    applicationType: 'URL',
                    url: './',
                    navigationMode: 'embedded'
                }
            },
            bootstrapPlugins: {
                RuntimeAuthoringPlugin: {
                    component: "sap.ushell.plugins.rta",
                    config: {
                        validateAppVersion: false,
                    },
                },
                PersonalizePlugin: {
                    component: "sap.ushell.plugins.rta-personalize",
                    config: {
                        validateAppVersion: false,
                    },
                },
            }
        }
    </script>
    <script src="https://ui5.sap.com/1.120.4/test-resources/sap/ushell/bootstrap/sandbox.js"></script> 
    <script>
        function themeCalc() {
            try {
                let theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "sap_horizon_dark" :
                    "sap_horizon"
                return theme
            } catch (ex) {
                console.warn("window.matchMedia not supported - keep default theme")
                return "sap_horizon"
            }
        }

        function ui5Bootstrap() {
            return new Promise((resolve, reject) => {
                const s = document.createElement('script')
                s.setAttribute('src', "https://ui5.sap.com/1.120.4/resources/sap-ui-core.js")
                s.setAttribute('id', "sap-ui-bootstrap")
                s.setAttribute('data-sap-ui-libs', "sap.m, sap.ushell, sap.fe.templates")
                s.setAttribute('data-sap-ui-compatVersion', "edge")
                s.setAttribute('data-sapui-frameOptions', "allow")
                s.setAttribute('data-sapui-bindingSyntax', "complex")
                s.setAttribute('data-sap-ui-async', "true")
                s.setAttribute('data-sap-ui-resourceroots', '{"root": "./"}')
                s.setAttribute('data-sap-ui-onInit', "module:root/init")
                s.setAttribute('data-sap-ui-theme', themeCalc())
                document.head.appendChild(s)
            })
        }
        try {
            ui5Bootstrap()
        } catch (error) {
            console.log(error)
        }

    </script>
</head>

<body id="content" class="sapUiBody sapUiSizeCompact" role="application">
    <div data-sap-ui-component data-id="container" data-name="root" data-handle-validation="true">
    </div>
</body>